<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1.0"
        />
        <base target="_blank" />
        <title>Academics for you</title>
        <link
            rel="stylesheet"
            type="text/css"
            href="/css/variables.css"
        />

        <link
            rel="stylesheet"
            href="https://fonts.googleapis.com/css?family=Satisfy"
        />
        <link
            rel="stylesheet"
            href="https://fonts.googleapis.com/css?family=Archivo+Black"
        />
        <link
            rel="stylesheet"
            href="https://fonts.googleapis.com/css?family=Tangerine"
        />
        <link
            rel="stylesheet"
            href="https://fonts.googleapis.com/css?family=Anton"
        />
        <link
            rel="stylesheet"
            href="https://fonts.googleapis.com/css?family=Courgette"
        />
        <link
            rel="stylesheet"
            href="https://fonts.googleapis.com/css?family=Sacramento"
        />
        <link
            rel="stylesheet"
            href="https://fonts.googleapis.com/css?family=Alatsi"
        />
        <link
            rel="stylesheet"
            href="https://fonts.googleapis.com/css?family=Tangerine"
        />
        <link
            rel="stylesheet"
            href="https://fonts.googleapis.com/css?family=Mogra"
        />
        <link
            rel="stylesheet"
            href="https://fonts.googleapis.com/css?family=Condiment"
        />

        <link
            rel="stylesheet"
            type="text/css"
            id="layout_css"
            href="/website-modules/design/layout.css"
        />
        <link
            rel="stylesheet"
            type="text/css"
            id="default_css"
            href="/website-modules/design/default.css"
        />
        <link
            rel="stylesheet"
            type="text/css"
            href="/website-modules/elements/nav/nav.css"
        />
        <link
            rel="stylesheet"
            type="text/css"
            href="/website-modules/elements/media/media.css"
        />
        <link
            rel="stylesheet"
            type="text/css"
            href="/website-modules/utils/putins/putins.css"
        />
        <link
            rel="stylesheet"
            type="text/css"
            id="notices_css"
            href="/website-modules/utils/notices/notices.css"
        />
        <link
            rel="stylesheet"
            type="text/css"
            href="/website-modules/elements/button/button.css"
        />
        <link
            rel="stylesheet"
            type="text/css"
            href="/website-modules/utils/css/loading.css"
        />
        <link
            rel="stylesheet"
            type="text/css"
            href="/website-modules/utils/putins/google.css"
        />
        <link
            rel="stylesheet"
            type="text/css"
            href="/website-modules/design/keyframes/plain.css"
        />
        <link href="https://cdn.jsdelivr.net/npm/suneditor@latest/dist/css/suneditor.min.css" rel="stylesheet">
        <!-- /website-modules -->
    </head>
    <body>
        <header
            class="cont1"
            style="margin: 0"
        >
            <a
                target="_blank"
                href="https://a4u.co.in/"
                ><img
                    id="top_img"
                    class="cont1"
            /></a>
        </header>
        <main class="cont1">
            <section
                style="
                    text-align: center;
                    overflow: hidden;
                    white-space: nowrap;
                    background-color: var(
                        --main-color-2
                    );
                "
                class="u1"
            >
                <span
                    id="top_scroll_text"
                    style="
                        text-align: center;
                        float: left;
                        background-color: var(
                            --main-color-2
                        );
                        color: var(
                            --main-color
                        );
                        margin-top: 4px;
                        margin-bottom: 4px;
                        animation: move_lr
                            16s infinite;
                    "
                    class="cont1"
                >
                    &nbsp;
                </span>
            </section>

            <section class="u1">
                <button
                    class="u1 hide_md button_visibility_control"
                    data-button-status="visible"
                    data-button-target="page_menus"
                    data-hide-on-click=".doc_page"
                >
                    <span>Menu</span>
                </button>
                <section
                    class="cont cont_xs1 cont_sm1"
                    style="
                        --cont-width: 20%;
                    "
                    id="page_menus"
                >
                    <nav
                        class="nav_one_active_light"
                    >
                        <ul
                            id="contents_nav"
                        ></ul>
                    </nav>
                </section>

                <section
                    id="contents_page"
                    class="cont cont_xs1 cont_sm1"
                    style="
                        --cont-width: 80%;
                        float: right;
                    "
                ></section>
            </section>
        </main>

        <footer
            class="cont1"
            id="contact"
        >
            <span id="sEditor" style="float:left;padding-top: 1%; padding-left: 1%;" > . </span>
            <span
                style="
                    float: right;
                    padding-top: 1%;
                    padding-right: 1%;
                "
                >Developed by Dr.
                Vinayak Kale</span
            >
        </footer>
    </body>

    <script
        src="/website-modules/includes/request/request.js"
        type="text/javascript"
    ></script>
    <script type="text/javascript">
        request_exist(
            "https://static-data.a4u.co.in/mech/images" +
                location.pathname +
                ".jpg"
        ).then((res, err) => {
            document.getElementById(
                "top_img"
            ).src = res
                ? "https://static-data.a4u.co.in/mech/images" +
                  location.pathname +
                  ".jpg"
                : "/images/logo.jpg"
        })
    </script>
    <script
        src="/website-modules/includes/request/google.js"
        type="text/javascript"
    ></script>
    <script
        src="/website-modules/design/default.js"
        type="text/javascript"
    ></script>
    <script
        src="/website-modules/elements/button/button.js"
        type="text/javascript"
    ></script>
    <script
        src="/website-modules/utils/css/loading.js"
        type="text/javascript"
    ></script>
    <script
        src="/website-modules/utils/putins/putins.js"
        type="text/javascript"
    ></script>
    <script
        src="/website-modules/utils/notices/notices.js"
        type="text/javascript"
    ></script>
    <script
        src="/website-modules/utils/putins/google.js"
        type="text/javascript"
    ></script>
    <script
        src="/website-modules/elements/nav/nav.js"
        type="text/javascript"
    ></script>
    <script type="text/javascript">
        let path_arr =
            location.pathname.split("/")
        console.log(path_arr[1]);
        if (path_arr[1] == "forms") {
            console.log("Forms will be shown here.",location.pathname);
            document.getElementById(
                        "contents_page"
                    ).innerHTML =
                        "<big>Forms will be shown here.</big>"
        }else if (path_arr[1] != "notice") {
            request_promise(
                "https://static-data.a4u.co.in/mech/staff-gdoc-links.json"
            ).then(
                (res) => {
                    const staff_pages =
                        JSON.parse(
                            res.response
                                .replaceAll(
                                    "\n",
                                    ""
                                )
                                .replaceAll(
                                    "\t",
                                    ""
                                )
                        )["stafflist"]
                    for (let staff of staff_pages) {
                        let path_arr =
                            location.pathname.split(
                                "/"
                            )
                        //console.log(path_arr[1]+"   "+staff[0]);
                        if (
                            path_arr[1].toLowerCase() ==
                            staff[0]
                                .replaceAll(
                                    " ",
                                    ""
                                )
                                .toLowerCase()
                        ) {
                            document.getElementById("sEditor").innerHTML="Page Editor: <span style='font-style:italic;'>"+staff[0]+"</span>";
                            document.getElementsByTagName(
                                "title"
                            )[0].innerText =
                                staff[0]
                            let page =
                                location.hash.substr(
                                    1
                                )
                            if (!page)
                                page =
                                    "Home"
                            console.log("page",page);
                            request(
                                staff[1],
                                "putins_make_page_from_gdoc",
                                "contents_nav",
                                "contents_page",
                                page,
                                "https://static-data.a4u.co.in/mech/images/"
                            )
                            return
                        }
                    }
                    document.getElementById(
                        "contents_page"
                    ).innerHTML =
                        "<big>404 Page not found.</big>"
                },
                (error) => {
                    console.error(error);
                    console.log(path_arr[1]);
                    document.getElementById(
                        "contents_page"
                    ).innerHTML =
                        "<big>404 Error parsing page.</big>"
                }
            )
        } else {
            //console.log("lps",location.pathname.substring(8));
            document.getElementById(
                "contents_page"
            ).innerHTML =
                "Notice is loading...."
            document.getElementById(
                "contents_page"
            ).parentElement.parentElement.innerHTML =
                document.getElementById(
                    "contents_page"
                ).outerHTML
            document
                .getElementById(
                    "contents_page"
                )
                .setAttribute(
                    "class",
                    "u1"
                )
            request_promise(
                "https://script.google.com/macros/s/AKfycbzy53ifIUTm2YNc_T_uv1Y0RV0PaLlE8i00V2DTvzBFCuG1Q8ocrvguw4mKUfkiykJSHA/exec?fn=get_notice_from_number&p=" +
                    location.pathname.substring(
                        8
                    )
            ).then(
                (res) => {
                    document.getElementById(
                        "contents_page"
                    ).innerHTML = ""
                    document
                        .getElementsByTagName(
                            "header"
                        )[0]
                        .remove()
                    if (
                        JSON.parse(
                            res.response
                        )[
                            "notice_error"
                        ]
                    ) {
                        document.getElementById(
                            "contents_page"
                        ).innerHTML =
                            "<big>404 Notice not found.</big>"
                    } else {
                        document
                            .getElementById(
                                "contents_page"
                            )
                            .insertAdjacentElement(
                                "beforeend",
                                notice_parse(
                                    JSON.parse(
                                        res.response
                                    )[
                                        "notice"
                                    ]
                                )
                            )
                    }
                },
                (error) => {
                    console.error(error)
                    document.getElementById(
                        "contents_page"
                    ).innerHTML =
                        "<big>404 Error parsing notice.</big>"
                }
            )
        }
    </script>
</html>
